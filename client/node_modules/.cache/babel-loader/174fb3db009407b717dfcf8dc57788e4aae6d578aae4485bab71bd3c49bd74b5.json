{"ast":null,"code":"var _jsxFileName = \"/Users/jaime/Documents/Personal/Code Repos/BudgetApp/client/src/pages/NewBalance.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { Navigate, Link } from 'react-router-dom';\nimport { MyContext } from '../MyContext';\nimport axios from \"axios\";\nimport styles from '../pageStyling/NewBalance.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewBalance = () => {\n  _s();\n  const [balance_name, setBalanceName] = useState(\"\");\n  const [balance_type, setType] = useState('wallet');\n  const [amount, setAmount] = useState(0.00);\n  const [error, setError] = useState(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n  const {\n    user_id,\n    validated\n  } = useContext(MyContext);\n  const createBalance = async e => {\n    e.preventDefault();\n    setError(null);\n    if (!balance_name.trim()) {\n      setError('Balance name is required.');\n      return;\n    }\n    try {\n      const response = await axios.post('api/insertBalance', null, {\n        params: {\n          user_id,\n          balance_name,\n          balance_type,\n          amount\n        }\n      });\n      if (response.status === 204) {\n        setRedirect(true);\n      }\n      if (response.status === 201) {\n        setError('This balance name already exists. Please choose a unique name.');\n      }\n    } catch (e) {\n      setError('An error occurred. Please try again.');\n      console.log(\"Error: \", e);\n    }\n  };\n  if (redirect) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/balancemanager\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 26\n  }, this);\n  if (!validated) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 28\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: styles.title,\n      children: \"New Balance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: createBalance,\n      className: styles.newBalanceBox,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Balance Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: balance_name,\n        onChange: ev => setBalanceName(ev.target.value),\n        placeholder: \"Savings Account\",\n        required: true,\n        minLength: \"1\",\n        maxLength: \"20\",\n        className: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Initial Balance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: amount,\n        onChange: ev => setAmount(parseFloat(ev.target.value)),\n        placeholder: \"0.00\",\n        step: \"0.01\",\n        maxLength: \"20\",\n        className: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.dropdownMenu,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: styles.dropdownButton,\n          onClick: () => setIsOpen(!isOpen),\n          children: balance_type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), isOpen && /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: styles.menuList,\n          children: ['wallet', 'credit'].map(type => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: e => {\n                e.preventDefault();\n                setType(type);\n                setIsOpen(false);\n              },\n              children: type.charAt(0).toUpperCase() + type.slice(1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 37\n            }, this)\n          }, type, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.errorMessage,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: styles.submitButton,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/balancemanager\",\n      className: styles.returnLink,\n      children: \"Return\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(NewBalance, \"0QOfQkBs+TDN9eSIJmBgjb0dqAw=\");\n_c = NewBalance;\nexport default NewBalance;\nvar _c;\n$RefreshReg$(_c, \"NewBalance\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Navigate","Link","MyContext","axios","styles","jsxDEV","_jsxDEV","NewBalance","_s","balance_name","setBalanceName","balance_type","setType","amount","setAmount","error","setError","isOpen","setIsOpen","redirect","setRedirect","user_id","validated","createBalance","e","preventDefault","trim","response","post","params","status","console","log","to","fileName","_jsxFileName","lineNumber","columnNumber","className","container","children","title","onSubmit","newBalanceBox","type","value","onChange","ev","target","placeholder","required","minLength","maxLength","input","parseFloat","step","dropdownMenu","dropdownButton","onClick","menuList","map","charAt","toUpperCase","slice","errorMessage","submitButton","returnLink","_c","$RefreshReg$"],"sources":["/Users/jaime/Documents/Personal/Code Repos/BudgetApp/client/src/pages/NewBalance.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { Navigate, Link } from 'react-router-dom';\nimport { MyContext } from '../MyContext';\nimport axios from \"axios\";\nimport styles from '../pageStyling/NewBalance.module.css';\n\nconst NewBalance = () => {\n    const [balance_name, setBalanceName] = useState(\"\");\n    const [balance_type, setType] = useState('wallet');\n    const [amount, setAmount] = useState(0.00);\n    const [error, setError] = useState(null);\n    const [isOpen, setIsOpen] = useState(false);\n    const [redirect, setRedirect] = useState(false);\n    const {user_id, validated} = useContext(MyContext);\n\n    const createBalance = async (e) => {\n        e.preventDefault();\n        setError(null);\n\n        if (!balance_name.trim()) {\n            setError('Balance name is required.');\n            return;\n        }\n\n        try {\n            const response = await axios.post('api/insertBalance', null, {\n                params: {\n                    user_id,\n                    balance_name,\n                    balance_type,\n                    amount\n                }\n            });\n            if (response.status === 204) {\n                setRedirect(true);\n            }\n            if (response.status === 201) {\n                setError('This balance name already exists. Please choose a unique name.');\n            }\n        } catch (e) {\n            setError('An error occurred. Please try again.');\n            console.log(\"Error: \", e);\n        }\n    };\n\n    if (redirect) return <Navigate to='/balancemanager' />;\n    if (!validated) return <Navigate to='/login' />;\n\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.title}>New Balance</h1>\n            <form onSubmit={createBalance} className={styles.newBalanceBox}>\n                <h2>Balance Name</h2>\n                <input\n                    type=\"text\"\n                    value={balance_name}\n                    onChange={(ev) => setBalanceName(ev.target.value)}\n                    placeholder=\"Savings Account\"\n                    required\n                    minLength=\"1\"\n                    maxLength=\"20\"\n                    className={styles.input}\n                />\n\n                <h2>Initial Balance</h2>\n                <input\n                    type=\"number\"\n                    value={amount}\n                    onChange={(ev) => setAmount(parseFloat(ev.target.value))}\n                    placeholder=\"0.00\"\n                    step=\"0.01\"\n                    maxLength=\"20\"\n                    className={styles.input}\n                />\n\n                <div className={styles.dropdownMenu}>\n                    <button \n                        type=\"button\" \n                        className={styles.dropdownButton} \n                        onClick={() => setIsOpen(!isOpen)}\n                    >\n                        {balance_type}\n                    </button>\n                    {isOpen && (\n                        <ul className={styles.menuList}>\n                            {['wallet', 'credit'].map((type) => (\n                                <p key={type}>\n                                    <button \n                                        type=\"button\"\n                                        onClick={(e) => {\n                                            e.preventDefault();\n                                            setType(type);\n                                            setIsOpen(false);\n                                        }}\n                                    >\n                                        {type.charAt(0).toUpperCase() + type.slice(1)}\n                                    </button>\n                                </p>\n                            ))}\n                        </ul>\n                    )}\n                </div>\n\n                {error && <div className={styles.errorMessage}>{error}</div>}\n\n                <button type=\"submit\" className={styles.submitButton}>\n                    Save\n                </button>\n            </form>\n\n            <Link to='/balancemanager' className={styles.returnLink}>\n                Return\n            </Link>\n        </div>\n    );\n};\n\nexport default NewBalance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}